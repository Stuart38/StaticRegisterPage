(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0WSl":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o});var a=n("E9Wd"),r="".concat(a.T,"/account/messages"),i="".concat(a.T,"/upload"),o="https://help.imgur.com/hc/en-us/articles/360038529112"},"7tjL":function(e,t,n){},"92em":function(e,t,n){},"BuJ/":function(e,t,n){},Et25:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var a=n("b5GN"),r=n("GB65");function i(e,t,n){if(!e||!t)return null;var a=t.toJS();return e.map(function(e){var t=e.get("id");return e=e.set("voted_count",a[t]?a[t]:0),n===t&&(e=e.set("user_selected",!0)),e}).filter(function(e){return 0<e.get("voted_count")}).sort(function(e,t){return e.get("user_selected")?-1:t.get("user_selected")?1:t.get("voted_count")-e.get("voted_count")})}function o(){var e=Object(r.w)();return e&&e.startsWith("/".concat(a.f))}function c(e,t){var n=e.filter(function(e){return e.type===t});return 0<n.length?n[0]:{}}},LZBw:function(e,t,n){"use strict";var a=n("lwsE"),c=n.n(a),r=n("W8MJ"),o=n.n(r),i=n("7W2i"),s=n.n(i),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),g=n.n(f),m=(n("17x9"),n("/MKj")),h=n("WSv3"),v=n("E9Wd"),b=n("G5ih"),y=n("lSNA"),N=n.n(y),k=n("TSYQ"),E=n.n(k),C=n("0WSl"),A=n("7oyi"),S=n("BWa0");n("X+lB");function O(e){var t=e.unseen,n=e.onClick,a=E()({NavbarMessageButton:!0,"notification-dot":0<t,"ProfileNavbar-item":!0,uScaleTransition:!0});return g.a.createElement(A.b,{className:a,href:C.b,onClick:n,title:Object(b.b)("labelChat"),image:g.a.createElement(S.ib,{title:Object(b.b)("labelChat"),name:S.f,width:"32",height:"32",fillColor:null})})}O.__docgenInfo={description:"",methods:[],displayName:"NavbarMessageButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var w=n("lZex"),q=n("Q+oO"),R=n("ANjH"),j=n("55Ip"),D=n("987h"),I=n("QSMB"),_=n("PSaT"),P=n("jHDt"),U=n("MxOc"),M=n("GB65"),B=n("Dhp7"),x=(n("b1r/"),n("NTmO")),T=n.n(x);function F(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var W=function(e){s()(n,e);var t=F(n);function n(){return c()(this,n),t.apply(this,arguments)}return o()(n,[{key:"componentDidMount",value:function(){if(this.props.statusSS===_.G.NO_DATA&&this.props.fetchSecretSantaConfig(),this.props.isOpen)return Object(M.Ab)(this.props.markSantaTooltipAsViewed,7e3),this.props.markSantaTooltipAsRendered()}},{key:"componentDidUpdate",value:function(e){this.props.isCoverFixed&&!e.isCoverFixed&&this.props.markSantaTooltipAsViewed()}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isOpen,a=e.isCoverFixed,r=e.isRegistrationOpen;if(e.statusSS!==_.G.READY)return null;var i=t.get("status")===_.E.NOT_FOUND,o=t.get("status")>_.E.NOT_FOUND,c=r&&i&&!a,s="NavbarButtonSS-tooltip ".concat(n&&"NavbarButtonSS-tooltip--open");return g.a.createElement(j.b,{to:o?_.db:_.U,className:"NavbarButtonSS",title:Object(U.a)("navbarButtonLabel")},g.a.createElement(I.B,{name:I.h,className:"uScaleTransition ProfileNavbar-item"}),c&&g.a.createElement("img",{className:s,src:T.a}))}}]),n}(g.a.Component);W.__docgenInfo={description:"",methods:[],displayName:"NavbarButtonSS",props:{profile:{type:{name:"object"},required:!0,description:""},statusSS:{type:{name:"string"},required:!0,description:""},isOpen:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},isRegistrationOpen:{type:{name:"bool"},required:!1,description:""},markSantaTooltipAsRendered:{type:{name:"func"},required:!0,description:""},markSantaTooltipAsViewed:{type:{name:"func"},required:!0,description:""},fetchSecretSantaConfig:{type:{name:"func"},required:!0,description:""}}};var L=Object(R.d)(Object(m.b)(function(e){var t=e.ui,n=e.secretSanta,a=e.user,r=n.config,i=n.register,o=n.tooltip;return{statusSS:n.status,isCoverFixed:t.cover.get("fixed"),isRegistrationOpen:i.get("isOpen")&&Object(B.k)(r.get("registrationOpenDate"),r.get("registrationCloseDate")),isOpen:o.get("isOpen"),isUserLoggedIn:a.get("isLoggedIn")}},{markSantaTooltipAsRendered:P.h,markSantaTooltipAsViewed:P.i,fetchSecretSantaConfig:P.f}),D.a)(W),H=n("PJYZ"),z=n.n(H),J=n("zTH+");n("awMJ");function G(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var V=function(e){s()(i,e);var r=G(i);function i(){var t;c()(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),N()(z()(t),"confettiClass",E()({NavbarConfettiButton:!0,"ProfileNavbar-item":!0,uScaleTransition:!0})),N()(z()(t),"handleClick",function(e){e.preventDefault(),(0,t.props.confettiClickAnalytics)(),Object(M.Eb)("confetti")}),t}return o()(i,[{key:"render",value:function(){return g.a.createElement(A.b,{className:this.confettiClass,onClick:this.handleClick,image:g.a.createElement(S.ib,{name:S.e,width:"32",height:"32",viewBox:"3 2 26 27"})})}}]),i}(g.a.Component);V.__docgenInfo={description:"",methods:[{name:"handleClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavbarConfettiButton",props:{confettiClickAnalytics:{type:{name:"func"},required:!1,description:""}}};var Y=Object(m.b)(null,{confettiClickAnalytics:J.f})(V),Z=n("JzwX"),K=n("xypG"),Q=n("qh6O"),X=n("VJ7e");n("7tjL");function $(e){var t=e.notification;if(!t)return null;var n,a=[],r=t.get("text"),i=t.get("id"),o=0,c="",s="",l=[];return t.getIn(["annotations","mention"]).forEach(function(e){l=e.get("indices"),c=r.substr(o,l.get(0)),s=r.substr(l.get(0),l.get(1)-l.get(0)),a.push(g.a.createElement("span",{key:"".concat(c,"-").concat(i)},c)),a.push(g.a.createElement("strong",{className:"NotificationCardText-annotation",key:"".concat(s,"-").concat(i)},s)),o=l.get(1)}),n=r.substr(o),a.push(g.a.createElement("span",{key:"".concat(n,"-").concat(i)},n)),g.a.createElement("div",{className:"NotificationCardText"},a)}$.__docgenInfo={description:"",methods:[],displayName:"NotificationCardText",props:{notification:{type:{name:"object"},required:!1,description:""}}};n("BuJ/");function ee(e){var t=e.notification,n=e.onClick;if(!t)return null;var a=new Date(1e3*t.get("updated_at")),r=t.getIn(["image","url"]),i=E()({"NotificationCard-thumb":!0,isUnread:t.get("state")!==X.b});return g.a.createElement(j.a,{to:function(e){var t=e.get("action");if(!t)return"";var n=t.replace("imgur://","https://");return{pathname:new URL(n).pathname,search:"?nid=".concat(e.get("id")),state:{accoladeConfetti:e.get("type")===X.a,hash:e.getIn(["post_definition","post_hash"])}}}(t),className:"NotificationCard",onClick:n},g.a.createElement("div",{className:i},g.a.createElement("img",{className:"NotificationCard-dot",src:r})),g.a.createElement($,{notification:t}),g.a.createElement(Q.a,{className:"When--notificationCard",date:a}))}ee.defaultProps={onClick:function(){}},ee.__docgenInfo={description:"",methods:[],displayName:"NotificationCard",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},notification:{type:{name:"object"},required:!1,description:""}}};var te=n("oHla");function ne(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var ae=function(e){s()(a,e);var n=ne(a);function a(e){var t;return c()(this,a),t=n.call(this,e),N()(z()(t),"container",null),N()(z()(t),"isStyler",!1),N()(z()(t),"removeListenerResize",null),N()(z()(t),"getReference",function(e){(t.container=e)&&t.updateScrollStyler()}),N()(z()(t),"updateScrollStyler",function(){var e=t.container.offsetWidth-t.container.clientWidth;t.state.scrollBarWidth!==e&&t.container&&t.setState({scrollBarWidth:e})}),t.state={scrollBarWidth:0},t}return o()(a,[{key:"componentDidMount",value:function(){var e=this.props.userAgent;this.isStyler=Object(te.b)(e)||Object(te.a)(e)}},{key:"componentDidUpdate",value:function(e){this.isStyler&&e.width!==this.props.width&&this.updateScrollStyler()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.height,a=e.onWheel,r=e.onTouchMove,i=e.onScroll,o=this.state.scrollBarWidth;return g.a.createElement("div",{ref:this.getReference,className:"DropdownScrollbar Scrollbar",onWheel:a,onTouchMove:r,onScroll:i,style:{maxHeight:n}},t,this.isStyler&&g.a.createElement("div",{className:"styler",style:{width:o}}))}}]),a}(g.a.Component);ae.defaultProps={height:0},ae.__docgenInfo={description:"",methods:[{name:"getReference",docblock:null,modifiers:[],params:[{name:"element",type:null}],returns:null},{name:"updateScrollStyler",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownScrollbar",props:{height:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onTouchMove:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},userAgent:{type:{name:"string"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""}}};var re=Object(m.b)(function(e){var t=e.agent,n=e.display;return{userAgent:t.get("useragent"),width:n.getIn(["viewPort","width"])}})(ae);function ie(e){var t=e.height,n=Object(b.b)("noNotifications");return g.a.createElement("div",{className:"NotificationsEmpty",style:{lineHeight:"".concat(Math.min(150,t),"px"),textAlign:"center"}},n)}ie.defaultProps={height:14},ie.__docgenInfo={description:"",methods:[],displayName:"NotificationsEmpty",props:{height:{defaultValue:{value:"14",computed:!1},type:{name:"number"},required:!1,description:""}}};n("PJRO");function oe(e){var t=e.markAllAsRead;return g.a.createElement("div",{className:"NotificationsHeader cf"},g.a.createElement("span",{className:"NotificationsHeader-title left"},Object(b.b)("notifications")),t&&g.a.createElement("span",{className:"NotificationsHeader-markall right",onClick:t},Object(b.b)("markAllAsRead")))}oe.__docgenInfo={description:"",methods:[],displayName:"NotificationsHeader",props:{markAllAsRead:{type:{name:"func"},required:!1,description:""}}};var ce=n("Cz+I");n("kacx");function se(e){var t=e.error,n=e.tryAgain,a=e.dismiss;if(!t)return null;var r=t.get("message"),i=t.get("meta").toJS(),o=t.get("type");return g.a.createElement("div",{className:"NotificationError"},g.a.createElement("div",{className:"NotificationError-message"},r,g.a.createElement("span",{className:"NotificationError-buttons"},g.a.createElement("a",{className:"Button ButtonLink icon-retry NotificationError-retry",onClick:function(){n(o,i)}},Object(b.b)("errorRetry")),g.a.createElement("span",{className:"NotificationError-divider"}," • "),g.a.createElement("a",{className:"Button ButtonLink NotificationError-dismiss",onClick:a},Object(b.b)("errorDismiss")))))}se.__docgenInfo={description:"",methods:[],displayName:"NotificationError",props:{error:{type:{name:"object"},required:!1,description:""},tryAgain:{type:{name:"func"},required:!0,description:""},dismiss:{type:{name:"func"},required:!0,description:""}}};var le=Object(m.b)(function(e){return{error:e.notifications.get("error")}},function(r){return{tryAgain:function(e,t){var n=Object(ce.k)(e),a=t.options.params;n&&r(n(e=ce.f&&a?a.pageToken:null))},dismiss:function(){return r(Object(ce.i)())}}})(se);n("y6ID");function ue(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var de=function(e){s()(i,e);var a=ue(i);function i(){var r;c()(this,i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),N()(z()(r),"onClick",function(e){var t=r.props,n=t.markAsRead,a=t.closeNotifications;e.get("state")!==X.b&&n(e.get("id")),a()}),r}return o()(i,[{key:"render",value:function(){var t=this,e=this.props,n=e.markAllAsRead,a=e.isFetching,r=e.onWheel,i=e.onScroll,o=e.height,c=e.notifications;return g.a.createElement("div",{className:"NotificationCards"},g.a.createElement(oe,{markAllAsRead:0<c.size?n:void 0}),g.a.createElement(le,null),0!==c.size||a?g.a.createElement(re,{onWheel:r,onScroll:i,height:o},c.map(function(e){return e&&g.a.createElement(ee,{key:"notif-".concat(e.get("id"),"-").concat(e.get("state")),notification:e,onClick:function(){return t.onClick(e)}})}),a&&g.a.createElement(K.b,{model:"notifications",size:60,status:{loading:a},applyStyle:{position:"absolute",left:"calc(50% - 30px)",top:"calc(50% - 30px)"}})):g.a.createElement(ie,{height:o}),g.a.createElement("div",{className:"NotificationCards-bottomGradient"}))}}]),i}(f.Component);de.defaultProps={markAsRead:function(){},closeNotifications:function(){}},de.__docgenInfo={description:"",methods:[{name:"onClick",docblock:null,modifiers:[],params:[{name:"notification",type:null}],returns:null}],displayName:"NotificationCards",props:{markAsRead:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},closeNotifications:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},notifications:{type:{name:"object"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""}}};var pe=n("/PhX"),fe=n("DUmG");function me(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}function he(e){var t=e.display,n=e.ui;return{height:t.getIn(["viewPort","height"]),positionY:t.get("positionY"),isOpen:n.notifications.get("open")}}function ge(e){return Object(m.b)(he,{closeNotifications:pe.z,toggleNotifications:pe.K})(function(p){var e=function(e){s()(n,e);var t=me(n);function n(e){var o;return c()(this,n),o=t.call(this,e),N()(z()(o),"scrollElement",null),N()(z()(o),"dropdownHeight",0),N()(z()(o),"toggleDropdown",function(){var e=o.props,t=e.markAllAsSeen,n=e.isOpen,a=e.toggleNotifications;n||t(),a()}),N()(z()(o),"calculateDropdownHeight",function(e){o.dropdownHeight=e-fe.$navbarHeight-100}),N()(z()(o),"handleWindowClick",function(e){var t=o.props,n=t.isOpen,a=t.closeNotifications,r=o.dropdown;n&&r&&(r===e.target||r.contains(e.target)||a());return!0}),N()(z()(o),"handleNotificationPagination",function(e){o.scrollElement=e.target}),N()(z()(o),"wheelHandler",function(e){var t=o.props,n=t.isFetching,a=t.reachedEnd,r=t.requestNextNotificationPage;if(!o.scrollElement||e.deltaY<=0||!o.scrollElement.scrollHeight)return!0;var i=o.dropdownHeight+o.scrollElement.scrollTop+100>o.scrollElement.scrollHeight;(n||i)&&(a||n||r(),e.preventDefault())}),o.calculateDropdownHeight(e.height),o}return o()(n,[{key:"closeDropdown",value:function(e,t){var n=this.props,a=n.isOpen,r=n.closeNotifications;if(!t&&a)return 100<e&&r()}},{key:"componentDidMount",value:function(){var e=this;this.autoCloser=Object(Z.a)({el:function(){return e.dropdown},cb:this.handleWindowClick})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.height,a=t.positionY,r=t.isFetching;n!==e.height&&this.calculateDropdownHeight(n),a!==e.positionY&&this.closeDropdown(a,r)}},{key:"componentWillUnmount",value:function(){this.scrollElement=null,"function"==typeof this.autoCloser&&this.autoCloser()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.unseen,a=t.isOpen;return n!==e.unseen||(a||e.isOpen)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.className,r=n.markAsRead,i=n.markAllAsRead,o=n.isFetching,c=n.notifications,s=n.isOpen,l=n.unseen,u=n.closeNotifications,d=E()((e={NotificationsDropdown:!0},N()(e,a,a),N()(e,"open",s),e));return g.a.createElement("div",{ref:function(e){t.dropdown=e},className:d},p&&g.a.createElement(p,{unseen:l,onClick:this.toggleDropdown}),s&&g.a.createElement(de,{notifications:c,isFetching:o,markAllAsRead:i,markAsRead:r,closeNotifications:u,onWheel:this.wheelHandler,onScroll:this.handleNotificationPagination,height:this.dropdownHeight}))}}]),n}(g.a.Component);return e.defaultProps={isFetching:!1,reachedEnd:!1,className:""},e}(e))}n("NRal");function ve(e){var t=e.unseen,n=e.onClick,a=E()({NotificationButton:!0,"notification-dot":0<t,"ProfileNavbar-item":!0,uScaleTransition:!0});return g.a.createElement(A.b,{className:a,onClick:n,title:Object(b.b)("notifications"),image:g.a.createElement(S.ib,{title:Object(b.b)("notifications"),name:S.z,width:"32",height:"32",viewBox:"0 -2 34 34"})})}var be=ge(ve);ve.__docgenInfo={description:"",methods:[],displayName:"NavbarNotificationButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var ye=n("/iGR"),Ne=n("Z6Av"),ke=n("Et25"),Ee="brazeNotificationSeen";function Ce(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a=n("rfzL");if(a.initialize(v.j,{enableHtmlInAppMessages:!0,noCookies:!0}),!Object(ke.b)()){a.subscribeToInAppMessage(function(e){!function(e){var t=function(e){var t=e.message.match(/\/\/ campaign ID: ([A-Za-z0-9-])+/);if(null!=t&&0<t.length)return t[0].substring("// campaign ID: ".length);var n=e.extras;return n.hasOwnProperty("campaignID")?n.campaignID:null}(e);if(t){var n=Object(M.F)(Ee);return(!n||n!==t)&&(Object(M.yb)(Ee,t),!0)}return!0}(e)||(function(e){var t=e.extras;if(t.hasOwnProperty("updateCustomAttributeOnShow")){var n={};try{n=JSON.parse(t.updateCustomAttributeOnShow)}catch(e){}n.key&&a.getUser().setCustomUserAttribute(n.key,n.value||null)}}(e),a.display.showInAppMessage(e))})}!Object(Ne.b)()&&v.r!==v.O||a.registerAppboyPushMessages(),a.changeUser(e),a.getUser().setCustomUserAttribute("UsesLegacyPostPage",!!t),a.openSession()}n("fuAU"),n("m6gU");function Ae(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}function Se(e){var t=e.notifications,n=e.ui,a=e.user;return{unseenNotifications:t.get("unseenNotifications"),unseenConversations:t.get("unseenConversations"),notifications:t.get("notifications"),pageToken:t.get("pageToken"),reachedEnd:t.get("reachedEnd"),isUpdateRequired:t.get("isUpdateRequired"),isActive:!n.notifications.get("isSmallScreen")||n.notifications.get("open"),isFetching:n.spinner&&n.spinner.get("notifications")&&n.spinner.get("notifications").loading,userID:a.get("id")}}function Oe(t){return{handleFetchNotifications:function(e){t(Object(ce.j)(e))},handleMarkAllAsSeen:function(){t(Object(ce.m)())},handleMarkAllAsRead:function(){t(Object(ce.l)())},handleMarkAsRead:function(e){t(Object(ce.n)(e))},handleFireMessagingNavAnalytics:function(){t(Object(J.d)("topNavBar"))}}}function we(e){return Object(m.b)(Se,Oe)(function(h,n){var e=function(e){s()(r,e);var a=Ae(r);function r(){var i;c()(this,r);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i=a.call.apply(a,[this].concat(t)),N()(z()(i),"requestNextNotificationPage",function(){var e=i.props,t=e.reachedEnd,n=e.isFetching,a=e.pageToken,r=e.handleFetchNotifications;t||n||r(a)}),i}return o()(r,[{key:"componentDidMount",value:function(){var e=this.props.userID,t="1"!==Object(ye.a)(v.q,Object(M.y)("cookie"));this.requestNextNotificationPage(),n(e,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isUpdateRequired,a=t.handleFetchNotifications;e.isUpdateRequired!==n&&n&&a(null)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.className,a=e.username,r=e.unseenConversations,i=e.unseenNotifications,o=e.isFetching,c=e.notifications,s=e.handleFireMessagingNavAnalytics,l=e.reachedEnd,u=e.handleMarkAllAsSeen,d=e.handleMarkAllAsRead,p=e.handleMarkAsRead,f=e.cakeIcon;if(!h||!t)return null;var m={className:n,username:a,unseenConversations:r,unseenNotifications:i,isFetching:o,notifications:c,fireMessagingNavAnalytics:s,reachedEnd:l,markAllAsSeen:u,markAllAsRead:d,markAsRead:p,cakeIcon:f,requestNextNotificationPage:this.requestNextNotificationPage};return g.a.createElement(h,m)}}]),r}(g.a.Component);return e.defaultProps={isActive:!0},e}(e,Ce))}var qe=we(ge());n("p5h/");function Re(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var je=function(e){s()(i,e);var r=Re(i);function i(e){var t;c()(this,i),t=r.call(this,e);var n=!1,a=Date.now();return Date.parse(_.l)<a&&a<Date.parse(_.k)&&(n=!0),t.state={giftIcon:n},t}return o()(i,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,a=e.unseenNotifications,r=e.handleFireMessagingNavAnalytics,i=e.cakeIcon,o=e.isFetching,c=e.notifications,s=e.reachedEnd,l=e.markAllAsSeen,u=e.markAllAsRead,d=e.markAsRead,p=e.requestNextNotificationPage,f=this.state.giftIcon,m=E()(N()({NavbarNotifications:!0},t,t)),h={unseen:a,isFetching:o,notifications:c,reachedEnd:s,markAllAsSeen:l,markAllAsRead:u,markAsRead:d,requestNextNotificationPage:p};return g.a.createElement("div",{className:m},f&&g.a.createElement(L,null),i&&g.a.createElement(Y,null),g.a.createElement(q.b,null),g.a.createElement(w.b,null),g.a.createElement(O,{unseen:n,onClick:r}),g.a.createElement(be,h))}}]),i}(g.a.Component);je.defaultProps={className:""},je.__docgenInfo={description:"",methods:[],displayName:"NavbarNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},notifications:{type:{name:"object"},required:!1,description:""},handleFireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},reachedEnd:{type:{name:"bool"},required:!1,description:""},markAllAsSeen:{type:{name:"func"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},markAsRead:{type:{name:"func"},required:!1,description:""},requestNextNotificationPage:{type:{name:"func"},required:!1,description:""},cakeIcon:{type:{name:"bool"},required:!1,description:""}}};var De=Object(m.b)(function(e){return{cakeIcon:e.config.getIn(["featureFlags","cakeIcon"])}},function(e){return{handleFireMessagingNavAnalytics:function(){e(Object(J.d)("topNavBar"))}}})(we(je)),Ie=n("9rNq"),_e=n("y/zE");n("ds3J");function Pe(e){var t,n=e.displayUsername,a=e.className,r=E()((t={},N()(t,a,a),N()(t,"NavbarAvatar",!0),t));return g.a.createElement(_e.b,{className:r,displayUsername:n})}Pe.defaultProps={className:""},Pe.__docgenInfo={description:"",methods:[],displayName:"NavbarAvatar",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""}}};var Ue=n("4TFA"),Me=n("pNV7");n("SINw");function Be(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var xe=function(e){s()(n,e);var t=Be(n);function n(){return c()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,a=e.unseenNotifications,r=e.isLoggedIn,i=e.handleToggleNotifications,o=E()(N()({NavbarUserMenuNotifications:!0},t,!!t));return g.a.createElement("div",{className:o},r&&g.a.createElement(O,{unseen:n,onClick:J.d}),r&&g.a.createElement(ve,{markAllAsSeen:ce.m,unseen:a,onClick:i}))}}]),n}(g.a.Component);xe.defaultProps={className:""},xe.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},handleToggleNotifications:{type:{name:"func"},required:!1,description:""}}};var Te=Object(m.b)(function(e){var t=e.user,n=e.notifications;return{isLoggedIn:t.get("isLoggedIn"),unseenNotifications:n.get("unseenNotifications"),unseenConversations:n.get("unseenConversations")}},function(e){return{fireMessagingNavAnalytics:function(){e(Object(J.d)("topNavBar"))},handleToggleNotifications:function(){e(Object(ce.m)()),e(Object(pe.K)())}}})(xe);n("92em");function Fe(e){var t=e.username,n=e.displayUsername;return g.a.createElement("div",{className:"NavbarUserMenuCover",style:{backgroundImage:"url(".concat(v.T,"/user/").concat(t,"/cover)")}},g.a.createElement("div",{className:"NavbarUserMenuCover-row"},g.a.createElement(_e.b,{className:"NavbarAvatar NavbarAvatar-menu",displayUsername:n}),g.a.createElement(Te,{className:"NavbarNotifications-menu",username:t})),g.a.createElement("div",{className:"NavbarUserMenuCover-row NavbarUserMenuCover-user"},n||t))}Fe.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuCover",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""}}};n("gAaL");function We(e){function t(e){return function(){o(e)}}var n=e.username,a=e.displayUsername,r=e.logout,i=e.profileBeta,o=e.userMenuClickAnalytics,c=a||n,s=i?g.a.createElement(j.b,{className:"Dropdown-option",to:"/user/".concat(c,"/posts"),onClick:t(Ue.e)},Object(b.b)("navbarMenuPosts")):g.a.createElement("a",{className:"Dropdown-option",href:"/user/".concat(c,"/submitted"),onClick:t(Ue.e)},Object(b.b)("navbarMenuPosts")),l=i?g.a.createElement(j.b,{className:"Dropdown-option",to:"/user/".concat(c,"/comments"),onClick:t(Ue.b)},Object(b.b)("navbarMenuComments")):g.a.createElement("a",{className:"Dropdown-option",href:"/user/".concat(c),onClick:t(Ue.b)},Object(b.b)("navbarMenuComments"));return g.a.createElement("div",{className:"NavbarUserMenuBlock"},g.a.createElement(Ie.d,{className:"NavbarUserMenu",value:c,dropdownIcon:g.a.createElement(Pe,{className:"NavbarAvatar-navbar"}),onClickDropdown:function(e,t){e&&e.target.classList.contains("NavbarAvatar")&&t&&(o(Ue.f),Object(M.db)("".concat(v.T,"/user/").concat(c)))},disableGravity:!0},g.a.createElement(Fe,{username:n,displayUsername:a}),g.a.createElement("div",{className:"Dropdown-option-group"},s,g.a.createElement(j.b,{className:"Dropdown-option",to:"/user/".concat(c,"/favorites"),onClick:t(Ue.c)},Object(b.b)("navbarMenuFavorites")),l,i&&g.a.createElement(j.b,{className:"Dropdown-option",to:"/user/".concat(c,"/about")},Object(b.b)("navbarMenuAbout")),g.a.createElement("a",{className:"Dropdown-option",href:"https://".concat(c,".").concat(v.S,"/all"),onClick:t(Ue.d)},Object(b.b)("navbarMenuImages"))),g.a.createElement("div",{className:"Dropdown-option-group Dropdown-option-footer"},g.a.createElement("a",{className:"Dropdown-option",onClick:t(Ue.g),href:v.a},g.a.createElement(Me.W,{name:Me.w}),g.a.createElement("span",null,Object(b.b)("navbarMenuSettings"))),g.a.createElement("div",{className:"Dropdown-option",onClick:r},g.a.createElement(Me.W,{name:Me.x}),g.a.createElement("span",null,Object(b.b)("signOut"))))))}We.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenu",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},logout:{type:{name:"func"},required:!1,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""}}};function Le(){return g.a.createElement("a",{className:"EmeraldButton Button",href:"/".concat(ze.f,"?source=").concat(Je.t)},Object(Ge.a)("goAdFree"))}var He=n("bWDY"),ze=n("b5GN"),Je=n("OX3u"),Ge=n("AG5K");n("UuzF");Le.__docgenInfo={description:"",methods:[],displayName:"EmeraldButton"};n("o0ye");function Ve(e){var t=e.username,n=e.displayUsername,a=e.handleLogout,r=e.userMenuClickAnalytics,i=e.profileBeta,o=e.isSmallScreen,c=e.adsEnabled,s=e.cakeIcon,l=c&&!Object(ke.b)();if(t)return g.a.createElement("div",{className:"ProfileNavbar ProfileNavbar-loggedIn"},l&&g.a.createElement(Le,null),o?g.a.createElement(qe,{className:"NavbarNotifications-dropdown"}):g.a.createElement(De,null),g.a.createElement(We,{username:t,displayUsername:n,logout:a,userMenuClickAnalytics:r,profileBeta:i,disableGravity:!0}));var u="?redirect=".concat(encodeURIComponent(Object(M.w)())),d=Object(b.b)("navbarSignUp"),p=Object(b.b)("navbarSignIn");return g.a.createElement("div",{className:"ProfileNavbar ProfileNavbar-loggedOut"},g.a.createElement("div",{className:"NavbarNotifications NavbarNotifications-navbar"},s&&g.a.createElement(Y,null),g.a.createElement("div",{className:"ProfileNavbar-item uScaleTransition"},g.a.createElement(w.b,null))),l&&g.a.createElement(Le,null),g.a.createElement("a",{onClick:function(){r("sign in")},className:"Navbar-signin",href:"".concat(v.T,"/signin").concat(u)},p),g.a.createElement(A.b,{className:"Button Navbar-signup",label:d,title:d,onClick:function(){r("sign up")},href:"".concat(v.T,"/register").concat(u)}))}var Ye=Object(m.b)(function(e,t){var n=e.user,a=e.ui,r=e.ad,i=e.config;return{username:n.get("username"),displayUsername:n.get("displayUsername"),isSmallScreen:void 0===t.isSmallScreen?a.notifications.get("isSmallScreen"):t.isSmallScreen,profileBeta:n.getIn(["flags","desktopProfilePageBeta"]),adsEnabled:Object(He.i)(r,n),cakeIcon:i.getIn(["featureFlags","cakeIcon"])}},function(t){return{userMenuClickAnalytics:function(e){t(Object(J.g)(e))},handleLogout:function(){t(Object(h.H)()),t(Object(J.g)("logout"))}}})(Ve);function Ze(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p()(a);if(r){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}Ve.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbar",props:{username:{type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},handleLogout:{type:{name:"func"},required:!0,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""},isSmallScreen:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},cakeIcon:{type:{name:"bool"},required:!1,description:""}}};var Ke=function(e){s()(n,e);var t=Ze(n);function n(){return c()(this,n),t.apply(this,arguments)}return o()(n,[{key:"componentDidMount",value:function(){this.props.isUserLoaded||this.props.fetchUserData()}},{key:"render",value:function(){return this.props.isUserLoaded?g.a.createElement(Ye,this.props):null}}]),n}(g.a.Component);Ke.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbarContainer",props:{fetchUserData:{type:{name:"func"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(m.b)(function(e){return{isUserLoaded:e.user.get("isLoaded")}},{fetchUserData:h.C})(Ke)},NRal:function(e,t,n){},NTmO:function(e,t,n){e.exports=n.p+"desktop-assets/ss-2020-tooltip.55c7e4767a08549eb6458f7833c98990.svg"},PJRO:function(e,t,n){},"Q+oO":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var a=n("q1tI"),r=n.n(a),i=n("BWa0"),o="https://donate.coreresponse.org/give/393950";function c(){return r.a.createElement("a",{href:o,target:"_blank",rel:"noreferrer"},r.a.createElement(i.ib,{name:i.i,width:"32",height:"32",viewBox:"0 -2 34 34",className:"uScaleTransition ProfileNavbar-item"}))}function s(){return r.a.createElement("a",{href:o,target:"_blank",rel:"noreferrer"},"Support Ukraine")}c.__docgenInfo={description:"",methods:[],displayName:"NavbarDonationButton"},s.__docgenInfo={description:"",methods:[],displayName:"NavbarDonationMenuItem"}},SINw:function(e,t,n){},UuzF:function(e,t,n){},"X+lB":function(e,t,n){},awMJ:function(e,t,n){},"b1r/":function(e,t,n){},ds3J:function(e,t,n){},fuAU:function(e,t,n){},gAaL:function(e,t,n){},kacx:function(e,t,n){},lZex:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var a=n("q1tI"),r=n.n(a),i=n("55Ip"),o=n("G5ih"),c=n("BWa0"),s=Object(o.b)("labelTopComments"),l="/leaderboard";function u(){return r.a.createElement(i.b,{to:l,title:s},r.a.createElement(c.ib,{name:c.h,width:"32",height:"32",viewBox:"0 -2 34 34",className:"uScaleTransition ProfileNavbar-item"}))}function d(){return r.a.createElement(i.b,{to:l},s)}u.__docgenInfo={description:"",methods:[],displayName:"NavbarLeaderboardButton"},d.__docgenInfo={description:"",methods:[],displayName:"NavbarLeaderboardMenuItem"}},m6gU:function(e,t,n){},o0ye:function(e,t,n){},oHla:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});n("aYmD");function a(e){return/firefox/.test(e.toLowerCase())}function r(e){return/edge/.test(e.toLowerCase())}},"p5h/":function(e,t,n){},qh6O:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("lSNA"),c=n.n(a),r=n("q1tI"),s=n.n(r),i=n("TSYQ"),l=n.n(i),u=(n("17x9"),n("Nm7g"));function o(e){var t=e.date,n=e.datetime,a=e.timestamp,r=e.className,i=t||new Date(a||Date.parse(n)),o=l()(c()({When:!0},r,r));return s.a.createElement("span",{className:o,title:i},Object(u.c)(i.getTime()/1e3))}o.defaultProps={className:""},o.__docgenInfo={description:"TODO:\nfromNow, and utils/formatting is a problem. That code should not be there\nit should be in here. It's also not internationalized. Anytime at all that we\nwant to have a formatted datetime, it will be inside a React Component, so we should\njust have a react component that does the formatting, which is what this does. At somepoint\nwe should change over all uses of the `fromNow` code where ever it used to this component\nand then to also internationalize the component. Date formatting is a job of a view. It's\npresentation data, and it doesn't belong in utils.\n\nfromNow is also problematic in that it expects a PHP generated timestamp, which is seconds\nfrom UTC. It should have accepted a date object.\n\nAnother problem with the fromNow is that it shows plural s when there shouldn't be a plural s,\nlike \"1 days\" should be \"1 day\".\n\nBy it being in a react component we can also ensure that dates always look the same. Same CSS\nsame exact date format.",methods:[],displayName:"When",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},date:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},datetime:{type:{name:"string"},required:!1,description:""},timestamp:{type:{name:"number"},required:!1,description:""}}}},y6ID:function(e,t,n){},ygTn:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("q1tI"),r=n.n(a),i=(n("17x9"),n("/MKj")),o=n("55Ip"),c=n("GB65"),s=n("zTH+"),l=n("BWa0");function u(e){var t=e.frontPageBeta,n=e.logoClicked,a=t?r.a.createElement(o.b,{className:"Navbar-logo",to:"/",onClick:function(){"/"===Object(c.w)()&&Object(c.ib)()}},r.a.createElement(l.ib,{className:"icon stroke fill",name:l.x,width:"94",height:"34",viewBox:"0 0 94 34",fillColor:"#ffffff",onClick:n})):r.a.createElement("a",{className:"Navbar-logo",href:"/"},r.a.createElement(l.ib,{className:"icon stroke fill",name:l.x,width:"94",height:"34",viewBox:"0 0 94 34",fillColor:"#ffffff",onClick:n}));return r.a.createElement("div",{className:"Navbar-logo-container"},a)}var d=Object(i.b)(function(e){return{frontPageBeta:e.user.getIn(["flags","desktopFrontPageBeta"])}},{logoClicked:s.e})(u);u.__docgenInfo={description:"",methods:[],displayName:"NavbarLogo",props:{frontPageBeta:{type:{name:"bool"},required:!1,description:""},logoClicked:{type:{name:"func"},required:!0,description:""}}}}}]);